import{e as B,h as z}from"./elements.524bf92a.js";import{t as C}from"./shared.cba5a5a3.js";import{_ as H}from"./elevation.7f6c0241.js";import{q as N,r as o,b as u,y as I,O as j,P,x as O,H as R,o as V,c as q,a as A,B as D,n as M,m as U}from"./vendor.ea41cd30.js";const G={offsetTop:{type:[String,Number],default:0},zIndex:{type:[String,Number],default:10},cssMode:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},onScroll:{type:Function}};const J=N({name:"VarSticky",props:G,setup(e){const i=o(null),l=o(null),n=o(!1),r=o("0px"),f=o("0px"),m=o("auto"),b=o("auto"),h=o("auto"),y=o("auto"),k=u(()=>!e.disabled&&e.cssMode),$=u(()=>!e.disabled&&n.value),d=u(()=>B(e.offsetTop));let t=window;const s=()=>{const{onScroll:a,cssMode:F,disabled:W}=e;if(W)return;let p=0;if(t!==window){const{top:T}=t.getBoundingClientRect();p=T}const g=l.value,c=i.value,{top:E,left:L}=c.getBoundingClientRect(),S=E-p;S<=d.value?(F||(m.value=`${c.offsetWidth}px`,b.value=`${c.offsetHeight}px`,r.value=`${p+d.value}px`,f.value=`${L}px`,h.value=`${g.offsetWidth}px`,y.value=`${g.offsetHeight}px`,n.value=!0),a==null||a(d.value,!0)):(n.value=!1,a==null||a(S,!1))},x=()=>{t=z(i.value),t!==window&&t.addEventListener("scroll",s),window.addEventListener("scroll",s),s()},w=()=>{t!==window&&t.removeEventListener("scroll",s),window.removeEventListener("scroll",s)};return I(()=>e.disabled,s),j(x),P(w),O(x),R(w),{stickyEl:i,wrapperEl:l,isFixed:n,offsetTop:d,fixedTop:r,fixedLeft:f,fixedWidth:m,fixedHeight:b,fixedWrapperWidth:h,fixedWrapperHeight:y,enableCSSMode:k,enableFixedMode:$,toNumber:C}}});function K(e,i,l,n,r,f){return V(),q("div",{class:U(["var-sticky",[e.enableCSSMode?"var-sticky--css-mode":null]]),ref:"stickyEl",style:M({zIndex:e.toNumber(e.zIndex),top:e.enableCSSMode?`${e.offsetTop}px`:void 0,width:e.enableFixedMode?e.fixedWidth:void 0,height:e.enableFixedMode?e.fixedHeight:void 0})},[A("div",{class:"var-sticky__wrapper",ref:"wrapperEl",style:M({zIndex:e.toNumber(e.zIndex),position:e.enableFixedMode?"fixed":void 0,width:e.enableFixedMode?e.fixedWrapperWidth:void 0,height:e.enableFixedMode?e.fixedWrapperHeight:void 0,left:e.enableFixedMode?e.fixedLeft:void 0,top:e.enableFixedMode?e.fixedTop:void 0})},[D(e.$slots,"default")],4)],6)}var v=H(J,[["render",K]]);v.install=function(e){e.component(v.name,v)};export{v as S,G as p};
